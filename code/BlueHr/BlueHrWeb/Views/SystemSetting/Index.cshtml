@model BlueHrLib.Data.SystemSetting

@{
    ViewBag.Title = "系统信息设置";
}

<ol class="breadcrumb current-position" style="margin-top:10px;">
    您的位置：
    <li>系统设置</li>
    <li>系统信息设置</li>
</ol>

<hr class="hr-grey" />

@using (Ajax.BeginForm(new AjaxOptions {  HttpMethod = "Post", Url="/SystemSetting/UpdateBasic", OnSuccess = "post_return_action(data)"/*, OnBegin = "return validate_page_info()"*/ }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.id)
        
        <div class="form-group">
            <label class="control-label col-md-2" for="defaultTrailMonth">试用期月数</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.defaultTrailMonth, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.defaultTrailMonth, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="daysBeforeAlertStaffGoFull">提前通知转正天数</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.daysBeforeAlertStaffGoFull, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.daysBeforeAlertStaffGoFull, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="goFullAlertMails">转正通知邮箱(以英文逗号分隔)</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.goFullAlertMails, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.goFullAlertMails, "", new { @class = "text-danger" })
            </div>
        </div>
         

        <div class="form-group">
            <label class="control-label col-md-2" for="attendanceExceptionAlertMails">考勤异常通知邮箱(以英文逗号分隔)</label>
               <div class="col-md-10">
                @Html.EditorFor(model => model.attendanceExceptionAlertMails, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.attendanceExceptionAlertMails, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="repeatAttendanceRecordTime">重复打卡相隔分钟数</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.repeatAttendanceRecordTime, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.repeatAttendanceRecordTime, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="validAttendanceRecordTime">有效(提前来，推迟离开)的考勤记录(分钟)</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.validAttendanceRecordTime, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.validAttendanceRecordTime, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="lateExceptionTime">迟到(分钟)</label>

            <div class="col-md-10">
                @Html.EditorFor(model => model.lateExceptionTime, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.lateExceptionTime, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="earlyLeaveExceptionTime">早退(分钟)</label>

            <div class="col-md-10">
                @Html.EditorFor(model => model.earlyLeaveExceptionTime, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.earlyLeaveExceptionTime, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="systemHost">系统网址</label>

            <div class="col-md-10">
                @Html.EditorFor(model => model.systemHost, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.systemHost, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="emaiSMTPHost">邮件服务器</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.emaiSMTPHost, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.emaiSMTPHost, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="emailUser">邮箱用户名</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.emailUser, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.emailUser, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="emailPwd">邮箱密码</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.emailPwd, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.emailPwd, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2" for="emailAddress">邮箱地址</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.emailAddress, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.emailAddress, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="保存基本设置" class="btn btn-danger" />
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<script type="text/javascript">
    Layout.init();

    //控制textarea高度
    $('textarea').css({ height: ($(window).height() - 400) / 2 + 'px' });
    $(window).resize(function () {
        $('textarea').css({ height: ($(window).height() - 400) / 2 + 'px' });
    });

    //回调函数
    function post_return_action(data) {

        if (!data.Success) {
            Layout.popMsg('popMsg-danger', data.Content);
            return false;
        }
        else {
            Layout.popMsg('popMsg-danger', "保存成功");
        }
    }
</script>
